<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link rel="stylesheet" href="%PUBLIC_URL%/style.css" />
    <script src="%PUBLIC_URL%/script.js"></script>
    <title>GoMeddo JS SDK Example</title>
  </head>
  <body>
  <header>
    <div>
      <object data="%PUBLIC_URL%/gomeddo.svg" type="image/svg+xml"></object>
      <h2>
        JS SDK Example
      </h2>
    </div>
    <a class="view-on-github" href="https://github.com/gomeddo/js-sdk-example">
      <img src="%PUBLIC_URL%/github.png"  alt="github" />
      View on GitHub
    </a>
  </header>
  <main>
    <section>
      <div>
        <h1>GoMeddo JS SDK</h1>
        <p>This page shows an example on how to implement the GoMeddo JS SDK</p>
      </div>
    </section>
    <section>
      <div>
        <h2>Example: Book your demo online</h2>
        <div id="sales-appointment"></div>
        <form id="config" <% process.env.REACT_APP_API_KEY && print('hidden') %>>
          <h3>Configuration</h3>
          <p>Remember to configure the url %PUBLIC_URL% under whitelisted domains in the welcome.gomeddo.com page.</p>
          <input placeholder="API Key" name="apiKey"/>
          <select name="environment">
            <option value="PRODUCTION" selected>Production</option>
            <option value="STAGING">Staging</option>
            <option value="ACCEPTANCE">Acceptance</option>
            <option value="DEVELOP">Development</option>
          </select>
          <input placeholder="Resources" name="resources" />
          <input type='number' min=0 step=1 placeholder="Timeslot Length" name="timeslotLength" />
          <button type="submit">Apply config</button>
        </form>
      </div>
    </section>
    <section>
      <div>
        <h3>Installing the SDK</h3>
        <h4>NPM</h4>
        <pre>
          npm install @gomeddo/sdk
        </pre>

        <h4>Yarn</h4>
        <pre>
          yarn add @gomeddo/sdk
        </pre>
      </div>
    </section>
    <section>
      <div>
        <h3>Getting timeslots for a specific resource and day</h3>
        <pre>
          <code>import GoMeddo from '@gomeddo/sdk';</code>
          <code></code>
          <code>const gm = new GoMeddo(apiKey);</code>
          <code></code>
          <code>gm</code>
          <code>  .buildResourceRequest()</code>
          <code>  .includeAllResourcesAt(resourceId)</code>
          <code>  .withAvailableSlotsBetween(</code>
          <code>    new Date('<%= (new Date()).getFullYear() %>-<%= (new Date()).getMonth()+1 %>-<%= (new Date()).getDate() %>'),</code>
          <code>    new Date('<%= (new Date()).getFullYear() %>-<%= (new Date()).getMonth()+1 %>-<%= (new Date()).getDate() + 1 %>')</code>
          <code>  )</code>
          <code>  .getResults()</code>
          <code>  .then((resources) => /* Do something with the resource */);</code>
        </pre>
      </div>
    </section>
    <section>
      <div>
        <h3>Creating a reservation</h3>
        <pre>
          <code>import GoMeddo, { Reservation, Lead } from '@gomeddo/sdk';</code>
          <code></code>
          <code>const gm = new GoMeddo(apiKey);</code>
          <code></code>
          <code>const resource = resources[0];</code>
          <code>const timeslots = resource.getTimeSlots();</code>
          <code></code>
          <code>const reservation = new Reservation();</code>
          <code>reservation.setResource(resource);</code>
          <code>reservation.setStartDatetime(timeslots[0].startOfSlot);</code>
          <code>reservation.setEndDatetime(timeslots[0].endOfSlot);</code>
          <code></code>
          <code>const lead = new Lead(firstName, lastName, email);</code>
          <code>reservation.setLead(lead);</code>
          <code></code>
          <code>gm</code>
          <code>  .saveReservation(reservation)</code>
          <code>  .then((response) => /* Do something with the response */);</code>
        </pre>
      </div>
    </section>
  </main >
  <footer>

  </footer>
  </body>
</html>
